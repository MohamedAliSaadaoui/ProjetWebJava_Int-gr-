{% extends 'base.html.twig' %}

{% block title %}Question{% endblock %}

{% block body %}
    {{ dump(question) }}
    <h1>Question</h1>

    <table class="table">
        <tbody>
        <tr>
            <th>idQ</th>
            <td>{{ question.idQ }}</td>
        </tr>
        <tr>
            <th>Question_text</th>
            <td>{{ question.questionText }}</td>
        </tr>
        <tr>
            <th>CreatedAt</th>
            <td>{{ question.createdAt ? question.createdAt|date('Y-m-d H:i:s') : '' }}</td>
        </tr>
        </tbody> <!-- Close table body before adding other content -->
    </table>

    <h3>Answers:</h3>
    <ul>

        {% if question.feedbacks|first is not null %}
            {% for feedback in question.feedbacks %}
                <li>{{ feedback.feedbackText }}</li>
            {% else %}
                <p>No answers yet.</p>
            {% endfor %}
        {% else %}
            <p>Loading feedbacks...</p>
        {% endif %}

    </ul>

    <a href="{{ path('app_feedback_new', {'idQ': question.idQ}) }}" class="btn btn-success">
        Answer this Question
    </a>

    <a href="{{ path('app_question_index') }}">Back to list</a>
    <a href="{{ path('app_question_edit', {'idQ': question.idQ}) }}">Edit</a>

    {{ include('question/_delete_form.html.twig') }}

{% endblock %}
